document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("contactForm"),t=document.getElementById("form-general-message"),o=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,n=/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s'-]{2,}$/;function s(e,t){const o=document.getElementById(e),n=document.getElementById(e+"-error"),s=o.closest(".form-group");n.textContent=t,t?s.classList.add("invalid"):s.classList.remove("invalid")}e.addEventListener("submit",(function(a){a.preventDefault(),t.textContent="",t.classList.remove("success");if(function(){let e=!0;t.textContent="",t.classList.remove("success");const a=document.getElementById("nombre").value.trim();a.length<2?(s("nombre","El nombre es obligatorio y debe tener al menos 2 caracteres."),e=!1):n.test(a)?s("nombre",""):(s("nombre","El nombre solo puede contener letras y espacios."),e=!1);const r=document.getElementById("email").value.trim();return""===r?(s("email","El correo electrónico es obligatorio."),e=!1):o.test(r)?s("email",""):(s("email","Por favor, introduce un formato de email válido (ej: usuario@dominio.es)."),e=!1),""===document.getElementById("servicio").value?(s("servicio","Debes seleccionar un asunto o servicio."),e=!1):s("servicio",""),document.getElementById("mensaje").value.trim().length<15?(s("mensaje","El mensaje es obligatorio y debe contener al menos 15 caracteres para ser descriptivo."),e=!1):s("mensaje",""),e}()){t.textContent="¡Validación Exitosa! El formulario está listo para enviarse (Prueba completada).",t.classList.add("success");const o=document.getElementById("submitButton");o.disabled=!0,o.textContent="Enviando...",setTimeout((()=>{o.disabled=!1,o.textContent="Enviar Mensaje",e.reset(),setTimeout((()=>{t.textContent="",t.classList.remove("success")}),4e3)}),3e3)}else{t.textContent="Por favor, corrige los campos marcados en rojo.",t.style.color="#dc3545";const e=document.querySelector(".form-group.invalid input, .form-group.invalid select, .form-group.invalid textarea");e&&e.focus()}}))}));